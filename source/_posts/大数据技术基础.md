---
title: 大数据技术基础笔记
date: 2023/11/25 20:46:25
tags: 
 - 大数据
 - 笔记
categories: 
 - 课程笔记
excerpt:
 - 大三上大数据技术基础课程笔记
---

# 大数据概述

## 大数据特征

- Value
- Velocity
- Volume
- Variety
## 大数据的产生阶段

- 运营式系统阶段（数据被动产生）
- 用户原创内容阶段（数据主动产生）
- 感知式系统阶段
## 科学研究四范式

- 实验
- 理论
- 计算
- 数据探索
## 大数据计算模式
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1695348208640-4594d795-4705-4799-ad33-707c153a9b83.png#averageHue=%23c6c4c2&clientId=ubf021b1e-9830-4&from=paste&height=180&id=u16052a63&originHeight=225&originWidth=718&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=68638&status=done&style=none&taskId=uf63c203c-1c8a-45cf-a099-9bc49dfc95d&title=&width=574.4)
## 大数据技术框架

- 数据收集
- 数据存储
- 资源管理与服务协调
- 计算引擎
- 数据分析
- 数据可视化

![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1695348305412-e1832ee7-8fd8-45a7-8008-e1715b785d80.png#averageHue=%23efefef&clientId=ubf021b1e-9830-4&from=paste&height=297&id=u0f10a066&originHeight=371&originWidth=442&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=33083&status=done&style=none&taskId=ufa25a594-bc76-48c8-b595-db50b8f0c8d&title=&width=353.6)
## 大数据技术实现方案
### Google大数据技术栈
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1695348662968-bf342959-a567-4dd0-a3ff-74fe1efa5237.png#averageHue=%23eeeeee&clientId=ubf021b1e-9830-4&from=paste&height=278&id=udaeae62d&originHeight=347&originWidth=528&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=31821&status=done&style=none&taskId=u3baae3fc-93ba-4547-aca2-2e742bacfe8&title=&width=422.4)
### Hadoop与Spark开源大数据技术栈
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1695348767266-b2e04cd7-6dbc-4697-826b-8325d0ba7727.png#averageHue=%23ececec&clientId=ubf021b1e-9830-4&from=paste&height=307&id=u0925dd69&originHeight=384&originWidth=532&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=43979&status=done&style=none&taskId=u6776d653-02c4-440e-a3a9-84e64fcfffb&title=&width=425.6)
## 大数据架构
**Lambda架构：**
将数据处理流程分解成三层：

- 批处理层
- 流式处理层
- 服务层

![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1695355615024-ef5c73a5-640d-46a6-99a0-286fd7521b21.png#averageHue=%23f1efec&clientId=ubf021b1e-9830-4&from=paste&height=305&id=u3624d884&originHeight=381&originWidth=795&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=156425&status=done&style=none&taskId=uaa5b6a9b-77db-4126-87c7-0b65ed44f6c&title=&width=636)
案例：推荐系统
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1695355671004-c7909d06-4d68-46c4-b4bd-4ff3a2ed071c.png#averageHue=%23f6f6f6&clientId=ubf021b1e-9830-4&from=paste&height=258&id=ueac30a50&originHeight=322&originWidth=764&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=48563&status=done&style=none&taskId=u07396de3-f2d6-4c4b-be07-359e636725b&title=&width=611.2)
# 大数据收集
## 关系型数据收集
关系型数据是常见的一种数据类型，通常存储在MySQL、 Oracle等关系型数据库中，为了能够利用大数据技术处理和存储这些关系型数据，将这些数据导入到HDFS、Hbase等大数据 存储系统中，以便使用MapReduce、Spark等分布式计算技术进行高效分析和处理。为便于与前端数据可视化系统对接，通常需要将Hadoop大数据 系统分析产生的结果导回到关系型数据库中。为解决上述问题，高效地实现关系型数据库与Hadoop之间数据的导入导出，Hadoop生态系统提供了Sqoop工具。
## Sqoop概述
Sqoop采用插拔式Connector架构，解决了关系型数据库与Hadoop之间的数据传输问题。
Sqoop通常完成的任务：

- 数据迁移
- 可视化分析结果
- 数据增量导入

Sqoop具备的特点：

- 性能高
- 自动类型转换
- 自动传播元信息
## Sqoop基本架构
### Sqoop1架构
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1697726790489-cf5f221f-7c83-43a5-85c2-3ec98296a2d3.png#averageHue=%23f0efed&clientId=ua9edeed5-70db-4&from=paste&height=451&id=ue5535d0b&originHeight=620&originWidth=1220&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=253406&status=done&style=none&taskId=u260f4082-ace1-4278-a8dc-b6a2c570588&title=&width=887.2727272727273)
### Sqoop2架构
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1697726828766-0e1ecbea-ddef-4fae-a6e7-17e03855ee3f.png#averageHue=%23f1f0ef&clientId=ua9edeed5-70db-4&from=paste&height=452&id=u88c585b4&originHeight=622&originWidth=1226&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=206460&status=done&style=none&taskId=u4e4535c2-a0b7-4673-93af-1a4f1c5222f&title=&width=891.6363636363636)
### Sqoop2主要组件及功能
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1697726967406-484ac584-b30b-4401-a918-2ff59bf9e815.png#averageHue=%23f3f0ee&clientId=ua9edeed5-70db-4&from=paste&height=367&id=u900de55d&originHeight=504&originWidth=1103&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=223247&status=done&style=none&taskId=u262fda7f-777f-4a81-8969-b51d5c1424c&title=&width=802.1818181818181)
### Sqoop1与Sqoop2对比
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1697726995028-7e88097c-f0eb-491c-af3b-9da4844444ca.png#averageHue=%234d6a91&clientId=ua9edeed5-70db-4&from=paste&height=487&id=u6ff715d6&originHeight=670&originWidth=1201&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=271839&status=done&style=none&taskId=u3afac435-b451-40f5-b8e4-2cbeaa00110&title=&width=873.4545454545455)
## Sqoop使用方式
### Sqoop1使用方式
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1697727069806-87e8eea3-e247-4eac-9664-2e0812d8bfcd.png#averageHue=%23f1eeeb&clientId=ua9edeed5-70db-4&from=paste&height=293&id=uf2701d70&originHeight=403&originWidth=1094&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=185220&status=done&style=none&taskId=u128fce70-4a36-44b9-a89f-9ae07fa96f3&title=&width=795.6363636363636)
### Sqoop2使用方式
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1697727091744-8861bf1f-c6ac-4495-941d-81bdb03f31c8.png#averageHue=%23f3f0ed&clientId=ua9edeed5-70db-4&from=paste&height=366&id=u9a6b147e&originHeight=503&originWidth=1138&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=231982&status=done&style=none&taskId=u7b4f8822-f12e-494f-b08a-738a49ad539&title=&width=827.6363636363636)
## 数据增量收集CDC
 捕获数据源中数据的更新，进而获取增量数据的过程，被称为 **CDC(Change Data Capture)**。  
 CDC 系统主要功能是捕获数据库中的数据更新，将增量数据发送给各个订阅者和消费者；  
 CDC 系统应用非常广泛，主要包括：

- 异地机房同步：实现数据异地机房容灾；
- 数据库实时备份：类似于master/slave架构，实时对数据库进行备份； 
- 业务Cache刷新：更新数据库成功的同时，刷新 Cache 中的值；
- 数据全库迁移：创建任务队列表，逐步完成全库所有表的迁移。  
## CDC开源实现Canal
### Canal主要原理
Canal主要定位是**基于数据库增量日志解析，提供增量数据订阅和消费**，目前主要支持了MySQL等关系型数据库。
Canal的主要原理是，模拟数据库的主备复制协议，接受主数据库产生的binary log，进而捕获更新数据。
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1697727596459-0e721b2d-8a55-4bbd-9201-bfae5fa3ba39.png#averageHue=%23f4f3f3&clientId=ua9edeed5-70db-4&from=paste&height=312&id=ue281518a&originHeight=429&originWidth=856&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=100400&status=done&style=none&taskId=u0703fd01-8157-4c78-afc3-a8e952a04a9&title=&width=622.5454545454545)
### Canal基本架构
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1697727670892-e0d601a9-c029-4f24-bb14-7d0d5f4fa332.png#averageHue=%23f5f4f3&clientId=ua9edeed5-70db-4&from=paste&height=447&id=ud64011e6&originHeight=615&originWidth=1177&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=146351&status=done&style=none&taskId=u5eb6af15-3ac2-47d8-a6cc-87560ec9849&title=&width=856)
## 多机房数据同步系统Otter
### Otter基本架构
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1697728046633-74539bbc-e6ce-4a69-b912-914365b077b1.png#averageHue=%23f0efee&clientId=ua9edeed5-70db-4&from=paste&height=471&id=u2344ea3c&originHeight=648&originWidth=1173&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=203941&status=done&style=none&taskId=uc5776525-893e-4597-94d1-1c37a80557c&title=&width=853.0909090909091)
### Otter S、E、T、L阶段模型
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1697728115654-364f02ed-3483-4b56-8239-58fa62b9b348.png#averageHue=%23f2f0ef&clientId=ua9edeed5-70db-4&from=paste&height=403&id=u09e013b1&originHeight=554&originWidth=1130&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=188596&status=done&style=none&taskId=u7f39c631-579b-4743-b31d-43449a5e1a6&title=&width=821.8181818181819)
### Otter跨机房数据同步
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1697728138093-13a87f50-ccc1-474f-88ab-277eac32f4b0.png#averageHue=%23f0efee&clientId=ua9edeed5-70db-4&from=paste&height=470&id=u01c39387&originHeight=646&originWidth=1039&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=193724&status=done&style=none&taskId=u6470a719-f056-432a-b24b-a187276e767&title=&width=755.6363636363636)
## 非关系型数据收集

- 非关系型数据种类繁多，包括网页、视频、图片、用户行为日志等，其中日志类数据直接反映了生产者的现状和行为特征， 通常用在行为分析系统、推荐系统、广告系统中；  
- 日志数据具有流式、数据量大等特点，通常分散在各种设备上， 由不同服务和组件产生，为了高效地收集这些流式日志，需要采用具有良好扩展性、伸缩性和容错性的分布式系统；  
- 为了帮助用户解决日志收集问题，Hadoop生态系统提供了 Flume，它是Cloudera公司开源的一个分布式高可靠系统，能够**对不同数据源的海量日志数据进行高效收集、聚合、移动**，最后存储到一个中心化的数据存储系统中。  
## Flume概述
### Flume设计动机
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1697728312738-479789d1-f6f2-4cef-9225-2aa680867332.png#averageHue=%23f0edeb&clientId=ua9edeed5-70db-4&from=paste&height=345&id=u323a0f5d&originHeight=474&originWidth=1132&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=236716&status=done&style=none&taskId=u05bb7534-e4ae-4d5a-b6ec-65bd7cd58f4&title=&width=823.2727272727273)
### Flume基本思想及特点
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1697728335167-25373eeb-c862-4306-9620-8202743274c7.png#averageHue=%23f3f1ef&clientId=ua9edeed5-70db-4&from=paste&height=409&id=uc20e96eb&originHeight=562&originWidth=1134&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=233426&status=done&style=none&taskId=u274ce792-e62b-4fb0-adfb-3c71b82dd8a&title=&width=824.7272727272727)
## Flume基本架构
### Flume基本构成
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1697728752395-4b52443f-f435-430f-adc2-844c9e655139.png#averageHue=%23f5f4f2&clientId=ua9edeed5-70db-4&from=paste&height=415&id=u41f06469&originHeight=570&originWidth=1092&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=231712&status=done&style=none&taskId=u292d8b39-8af2-4ff3-8243-7dd0beaf49e&title=&width=794.1818181818181)![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1697728805958-19999312-e06d-4454-bd5e-8f12b8ac4ed5.png#averageHue=%23f2efed&clientId=ua9edeed5-70db-4&from=paste&height=443&id=u02fb9d90&originHeight=609&originWidth=1132&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=299703&status=done&style=none&taskId=u02b2a549-e38b-4eb9-8115-2f906858e76&title=&width=823.2727272727273)![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1697728815238-483e928e-023d-4732-a89d-232f36aee8bb.png#averageHue=%23f8f7f6&clientId=ua9edeed5-70db-4&from=paste&height=452&id=u207bc9a8&originHeight=622&originWidth=1115&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=184471&status=done&style=none&taskId=u6c35833f-720a-46d9-a556-1b349a723bb&title=&width=810.9090909090909)
### Flume NG高级组件
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1697728861575-68887aeb-8692-457d-a807-4ed5e1de205d.png#averageHue=%23f1eeeb&clientId=ua9edeed5-70db-4&from=paste&height=398&id=u59984716&originHeight=547&originWidth=1112&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=272068&status=done&style=none&taskId=u2fb05f7e-4557-4b19-8408-cb4f2e3cac6&title=&width=808.7272727272727)![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1697728867945-994da6bf-c58c-4d8e-bbc6-4e851d1ba989.png#averageHue=%23f6f4f3&clientId=ua9edeed5-70db-4&from=paste&height=457&id=u33c6df00&originHeight=629&originWidth=1123&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=231933&status=done&style=none&taskId=u8ee2fdd9-5393-4d39-93c3-7595beb9109&title=&width=816.7272727272727)
## Flume NG数据流拓扑
### 构建数据流拓扑
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1697729087900-9c142b3e-7028-4b13-90f5-d5779d1b6f85.png#averageHue=%23f2f0ed&clientId=ua9edeed5-70db-4&from=paste&height=324&id=uf45de7ed&originHeight=446&originWidth=1105&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=201864&status=done&style=none&taskId=uf3bdff6d-ce5b-4d06-ab86-cc4323c9cf6&title=&width=803.6363636363636)
### 多路合并拓扑架构
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1697729148825-f0b14aef-259c-44b0-94dd-755bb42640a8.png#averageHue=%23f7f6f5&clientId=ua9edeed5-70db-4&from=paste&height=452&id=u4996df74&originHeight=622&originWidth=1125&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=208668&status=done&style=none&taskId=u39dc8bbe-1de7-4190-89e6-316f2112519&title=&width=818.1818181818181)
### 多路复用拓扑架构
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1697729174871-82e19441-bfad-428e-aab6-bd8d2ceeb170.png#averageHue=%23f7f6f6&clientId=ua9edeed5-70db-4&from=paste&height=450&id=uf2f2136d&originHeight=619&originWidth=1102&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=187009&status=done&style=none&taskId=u7fb03ada-c02e-4917-baa6-f90007a3e67&title=&width=801.4545454545455)
# 分布式消息队列
## Kafka概述

- 实际应用中，不同服务器(数据生产者)产生的日志，比如指标监控数据、用户搜索日志、用点击日志等，需要同 时传送到多个系统中以便进行相应的逻辑处理和挖掘， 比如指标监控数据可能被同时写入Hadoop和Storm集群 (数据消费者)进行离线和实时分析。
- 消息队列的出现是为了**降低数据生产者和消费者之间的耦合性、平衡两者处理能力的不对等**。 
- **消息队列是位于生产者和消费者之间的“中间件”**，它解除了生产者和消费者的直接依赖关系，使得软件架构更 容易扩展和伸缩；它能够缓冲生产者产生的数据，防止 消费者无法及时处理生产者产生的数据。  
### Kafka设计动机
存在问题：

- **数据生产者和消费者耦合度过高**：需要增加一种新的消费者时，所有数据生产者均需要被改动，扩展性非常差。
- **生产者和消费者间数据处理速率不对等**
- **大量并发的网络连接对后端消费者不够友好**

解决方法：引入一层"中间件"

- **消息中间件**：避免生产者和消费者直接互通产生的彼此高度依赖，两者中任何一个有变化都不会 影响另一方。  
- **消息队列**：缓存生产者产生的数据，使得消费者可以重复消费历史数据；平滑生产者产生数据速度和消费者处理数据速度的不对等。
- **发布订阅系统**：消费者可订阅某类主题的数据，当生产者产生对应主题的数据后，所有订阅者会快速获取到的数据，即消费者可快速获取新增数据。
- **信息总线**：所有收集到的数据会流经Kafka，之后由Kafka分流后，进入各个消费者系统。
### Kafka特点

- **高吞吐量**
- **良好的扩展性**
- **持久性和可靠性**
### Flume与Kafka的区别
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1698378163478-ab9ad77e-2c50-4d24-a893-9ffa2d158a0b.png#averageHue=%23f5f3f0&clientId=ub9045351-1b5f-4&from=paste&height=278&id=uc93c905c&originHeight=347&originWidth=931&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=125522&status=done&style=none&taskId=u04ba6821-7eb5-421d-8778-53981c962a5&title=&width=744.8)
## Kafka设计架构
### Kafka基本架构
Kafka是一个分布式消息队列，它将数据分区保存，并将每个分区保存成多份以提高数据可靠性。

- Kafka架构由**Producer、Broker和Consumer**三类组件构成，其中Producer将数据写入Broker，Consumer则从Broker上读取数据进行处理；Broker构成了连接Producer和Consumer的"缓冲区"，Broker和Consumer通过ZooKeeper做协调和服务发现。
- Kafka架构采用**Push-Pull架构（生产者将消息推送到队列中，但消费者不会立即接收消息。相反，消费者在自己的节奏下拉（pull）消息）**，即Producer将数据直接"push"给Broker，而Consumer从Broker端"pull"数据，这种架构优势主要体现在以下两点:
   - Consumer可根据自己的实际负载和需求获取数据，避免采用"push"方式给Consumer带来较大压力。
   - Consumer自己维护已读取消息的offset而不是由Broker端维护，大大缓解了Broker的压力。
### Kafka各组件详解
![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1698379811033-620d3f96-713f-4bd3-8820-d3691fff23b4.png#averageHue=%23f6f3f1&clientId=ub9045351-1b5f-4&from=paste&height=298&id=udb05c2e3&originHeight=373&originWidth=887&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=134602&status=done&style=none&taskId=uc6031cbe-fe23-4836-945d-17042db6629&title=&width=709.6)

- Kafka Producer发送信息时，不需要指定所有Broker的地址，只需给定一个或几个初始化Broker的地址即可，Producer可通过指定的Broker获取其他所有Broker的位置信息，并自动实现负载均衡。

![image.png](https://cdn.nlark.com/yuque/0/2023/png/29550710/1700188977865-477435f5-bb1c-490b-9187-22abb594e0b4.png#averageHue=%23f4f2ef&clientId=u439df397-55e9-4&from=paste&height=339&id=u9abff1e4&originHeight=424&originWidth=802&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=193175&status=done&style=none&taskId=u1e0b21fe-c42c-40d4-9fbf-ba0e8f42ec1&title=&width=641.6)

# 大数据存储

## 数据序列化

## 数据序列化方案

## 文件存储格式

## 行式存储格式

## 列式存储格式

# 分布式存储

文件存储的方式：

- 文件系统
   - NTFS(New Technology File System)：Windows常用的高级文件系统
   - Ext4(Extended File System4)：Android常用的文件系统
   - HFS(Hierarchical File System)、HFS+、APFS(Apple File System)：IOS
- 数据库

数据存储扩容问题的两种解决方案：

- **纵向扩展(scale-up)**
- **横向扩展(scale-out)**

横向扩展存在的难点：

- **因故障丢失数据**
- **文件通常较大**
- **一次写入多次读取**

## 分布式文件系统

## 文件级别和块级别的分布式文件系统

## HDFS关键技术

主从软件架构，主服务被称为NameNode，管理文件系统的元信息和从节点，从服务被称为DataNode，存储实际的数据块；DataNode与NameNode维护了周期性的心跳，为防止
### 容错性设计（考）
NameNode故障：为每个Active NameNode分配一个Standby NameNode
DataNode故障：冗余备份、心跳机制
数据块损坏：保存DataNode时生成校验码，读取数据时比较校验码
### 副本放置策略
HDFS默认采用三副本放置策略
### 集中式缓存管理
允许用户将一部分目录会文件缓存在off-heap内存中，以加速对这些数据的访问效率，该机制被称为集中式缓存管理。
优势：

- 提高集群的内存利用率
- 防止被频繁使用的数据从内存中清除
- 提高数据读取的效率

## HDFS访问方式



## NoSQL数据库

关系型数据库（如MySQL、Oracle）通过了严格的ACID测试。

- 原子性（Atomicity）：单个事务为一个不可分割的最小工作单元
- 一致性（Consistency）
- 隔离性（Isolation）：一个事务所做的修改在最终提交以前，对其他事务是不可见的
- 持久性（Durability）：一旦事务提交，所作的修改就会永久保存到数据库中。

## NoSQL与关系数据库的对比

| 比较标准 | 关系型数据库 | NoSQL |
| --- | --- | --- |
| 查询方式 | SQL | UnQL |
| 数据完整性 | 容易实现 | 很难实现 |
| 一致性 | 强一致性 | 弱一致性 |
|  |  |  |

## NoSQL的三大基石

### CAP
C（Consistency）：一致性，任何一个读操作总是能读到之前完成的写操作的结果。
A（Availability）：可用性，是指快速获取数据，可以再确定的时间内返回操作结果，保证每个请求不管成功或者失败都有相应。
P（Partition Tolerance）：分区容错性，
### BASE模型
BASE模型反ACID模型，基本含义是本基本可用（Basically Availability）、软状态和最终一致性。
### 最终一致性

- N——数据复制的份数
- W——更新数据时需要保证写完成的节点数
- R——读取数据时


## NoSQL数据库类型

- Key-Value型（Redis、Riak、SimpleDB、Chordless、Scalaris、Memcached）
   - key-value store
- Key-Column型
- Key-Document模型
- 图模型
### Redis

- STRING
- LIST
- SET
- HASH
- ZSET

两种不同的持久化方法：

- 快照
- 只追加文件

## 分布式结构化存储系统

## HBase

### HBase数据模型

### HBase基本架构

### HBase内部原理

### HBase实例

### HBase访问方式

## 时间序列数据库OpenTSDB
不需要具体了解
## 分布式列式存储系统Kudu

- HDFS使用列式存储格式，适合离线分析，不支持单条记录级别的update操作，随机读写性能差。
- HBase可以进行高效随机读写，却并不适用于基于SQL的数据分析方向，大批量数据获取时的性能较差。
- Kudu介于HDFS和HBase之间，比HBase批处理快，比HDFS随机读写性能强。

Kudu是一个强类型的**纯列式存储数据库**。

- Kudu Master
- Table Server
   - 通常有3个副本存放在不同的Table Server上
   - 同一个副本分为leader和follower

完全的列式存储引擎，表中的每一列数据都是存放在一起，列与列之间都是分开的。
## 云数据库



